{% extends 'base.html.twig' %}

{% block title %}Edit Store{% endblock %}

{% block body %}
    <h1>Edit Store</h1>

    <div class="row">
        <div class="col-sm-8">
            <h3>Details</h3>
            {{ include('store/_form.html.twig', {
                button_label: 'Update'
            }) }}
        </div>
        <div class="col-sm-4">
            <h3>References</h3>

{#            <ul class="list-group small">#}
{#                {% for reference in store.storeReferences %}#}
{#                    <li class="list-group-item d-flex justify-content-between align-items-center">#}
{#                        {{ reference.originalFilename }}#}

{#                        <span>#}
{#                            <a href="{{ path('admin_store_download_reference', {#}
{#                                id: reference.id#}
{#                            }) }}"><span class="bi-download"></span></a>#}
{#                        </span>#}
{#                    </li>#}
{#                {% endfor %}#}
{#            </ul>#}

{#            <hr>#}
{#            <hr>#}

            <ul
                    class="list-group small js-reference-list"
                    data-url="{{ path('admin_store_list_references', {id: store.id}) }}"
            >
            </ul>

            <hr>
{#
            {{ form_start(referenceForm, {
                'name': 'referenceForm',
                'action': path('admin_store_add_reference', { id: store.id })
            }) }}
            {{ form_row(referenceForm.reference, {full_name:'reference'}) }}
            {{ form_widget(referenceForm) }}
            <button class="btn">{{ button_label|default('Save') }}</button>
            {{ form_end(referenceForm) }}
#}
            <form action="{{ path('admin_store_add_reference', {
                id: store.id
            }) }}" method="POST" enctype="multipart/form-data" class="dropzone" {{ stimulus_controller('ref-dropzone') }}>
{#                <input type="file" name="reference">#}
{#                <button type="submit" class="btn btn-sm btn-primary">Upload</button>#}
            </form>
        </div>
    </div>


    <a href="{{ path('store_index') }}">back to list</a>

    {{ include('store/_delete_form.html.twig') }}
{% endblock %}
